function menuAction(e){e.parentNode.className="lowerScreen",e.parentNode.innerHTML=e.parentNode.innerHTML+'<div id="cover" onclick="menuClose(this)"></div>'}function menuClose(e){e.parentNode.className="",e.remove()}var app={initialize:function(){this.bindEvents()},bindEvents:function(){document.addEventListener("deviceready",this.onDeviceReady,!1)},onDeviceReady:function(){app.receivedEvent("deviceready"),nfc.addNdefListener(function(e){var n=e.tag,i=n.ndefMessage,t=nfc.bytesToHexString(n.id);alert(t);var o="app/searshack",c="You won a coupon!",r=ndef.mimeMediaRecord(o,nfc.stringToBytes(c));nfc.write([r],function(){alert("success")},function(e){alert("fail")})},function(){console.log("Waiting for NDEF tags")},function(e){console.log("Error adding NDEF listener "+JSON.stringify(e))}),nfc.addMimeTypeListener("app/searshack",function(e){console.log(e);var n=e.tag,i=n.ndefMessage,t=nfc.bytesToString(i[0].payload).substring(0),o=nfc.bytesToHexString(n.id);document.getElementById("nfc-value").innerHTML=t,document.getElementById("nfc-id").innerHTML="tag-ID="+o},function(){console.log("listening for MIME NDEF tags")},function(e){console.log("Error registering MIME NDEF listener "+e)})},receivedEvent:function(e){}};